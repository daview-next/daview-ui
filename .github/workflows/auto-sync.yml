name: Automatically sync to a fork repository
on:
  push:
    branches:
      - feature/auto-sync-with-github-action

jobs:
  fetch:
    runs-on: ubuntu-latest
    
    steps:
    - name: Check out code
      uses: actions/checkout@v2
      
    - name: Fetch from Fork Repository
      run: |
        git remote add fork_repo https://daview-next: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@github.com/daview-next/daview-ui.git
        git fetch fork_repo

    - name: Merge changes into develop
      run: |
        git checkout -b fork_repo/feature/auto-sync-with-github-action
        git merge origin/feature/auto-sync-with-github-action
        git push fork_repo feature/auto-sync-with-github-action